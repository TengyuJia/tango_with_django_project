{% extends 'rango/base.html' %}
{% load staticfiles %}

{% block title_block %}
	Homepage
{% endblock %}

{% block body_block %}
<div class="jumbotron p-4">
	<div class="container">
		<h1 class="jumbotron-heading">Grab</h1>
	<div>
			<h2 class="h2">
			{% if user.is_authenticated %}
				Howdy {{ user.username }}, Welcome to Grab!
			{% else %}
				Hey there partner! Register to leave your comments in Grab!
			{% endif %}
			</h2>
		<strong>{{ boldmessage }}</strong>
		</div>
	</div>
</div>

 <p>Visits of Grab: {{ visits }}</p>
 <div class="container">
	<div class="row">
		<div class="col-md-6">
			<div class="card mb-6">
				<div class="card-body">
					<h2>Most Liked Categories</h2>
					<p class="card-text">
					{% if categories %}
					<ul class="list-group">
					{% for category in categories %}
						<li class="list-group-item">
							<a href="{% url 'rango:show_category' category.slug %}">{{ category.name }}</a>
							{% if category.likes > 1 %}
							({{ category.likes }} likes)
							{% elif category.likes == 1 %}
							({{ category.likes }} like)
						{% endif %}
						</li>
					{% endfor %}
					</ul>
					{% else %}
					<strong>There are no categories present.</strong>
					{% endif %}
					</p>
					</div>
				</div>
		 </div>
		 <div class="col-md-6">
			<div class="card mb-6">
				<div class="card-body">
					<h2>Most Viewed Restaurants</h2>
						<p class="card-text">
						{% if pages %}
						<ul class="list-group">
						{% for page in pages %}
							<li class="list-group-item">
								<a href="{% url 'rango:goto' %}?page_id={{ page.id }}">{{ page.title }}</a>
								{% if page.views > 1 %}
								({{ page.views }} views)
								{% elif page.views == 1 %}
								({{ page.views }} view)
								{% endif %}
							</li>
						{% endfor %}
						</ul>
						{% else %}
						<strong>There are no pages present.</strong>
						{% endif %}
						</p>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}